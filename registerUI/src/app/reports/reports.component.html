<app-nav-bar></app-nav-bar>
<h1>Reportes</h1>
<h2>Obtener datos para reporte</h2>
<div>
	<label>Profesor: 
		<mat-form-field>
            <input type="text" matInput [formControl]="myControl" [matAutocomplete]="auto">
        </mat-form-field>          
        <mat-autocomplete #auto="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptions | async" [value]="option">{{option}}</mat-option>
        </mat-autocomplete>
	</label>
	<br>
	<input [owlDateTimeTrigger]="finicio" [owlDateTime]="finicio" placeholder="Fecha Inicio" readonly>
    <owl-date-time [pickerType]="'calendar'" #finicio></owl-date-time>
    <br>
    <input [owlDateTimeTrigger]="ffin" [owlDateTime]="ffin" placeholder="Fecha Fin" readonly>
    <owl-date-time [pickerType]="'calendar'" #ffin></owl-date-time>
	<br>
    <button (click)="getData(finicio._selected,ffin._selected)" >Registrar</button>
</div>
<br>
<div *ngIf="reporteActivo">
	<button (click)="exportAsXLSX()">export excel</button>
	<table id="registers">
		<tr>
			<th>Grupo</th>
			<th>Materia</th>
			<th>Fecha</th>
			<th>Registro</th>
			<th>Entrada</th>
			<th>Especificacion</th>
			<th>Tipo</th>
			<th>Imagen</th>
		</tr>
		<tr *ngFor="let item of this.registros">
			<td>{{item.grupo}}</td>
			<td>{{item.materia}}</td>
			<td>{{item.fecha}}</td>
			<td>{{item.hora}}</td>
			<td>{{item.inicio}}</td>
			<td>{{item.estado}}</td>
			<td>{{item.tipo}}</td>
			<td><button (click)="showImage(item.id)">Imagen</button></td>
		</tr>
	</table>
</div>