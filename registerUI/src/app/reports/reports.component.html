<app-nav-bar></app-nav-bar>
<h1>Reportes</h1>
<h2>Obtener datos para reporte</h2>
<div class="formulario">
	<label class="theme">Profesor:
		<mat-form-field class="searchw">
			<input class="search" type="text" matInput [formControl]="myControl" [matAutocomplete]="auto">
		</mat-form-field>
		<mat-autocomplete #auto="matAutocomplete">
			<mat-option *ngFor="let option of filteredOptions | async" [value]="option">{{option}}</mat-option>
		</mat-autocomplete>
	</label>
	<br>
	<mat-form-field>
		<input class="calendar" matInput [matDatepicker]="fech" placeholder="Fecha Contratacion" [(ngModel)]="fechai"
			[ngModelOptions]="{standalone: true}">
		<mat-datepicker-toggle matSuffix [for]="fech"></mat-datepicker-toggle>
		<mat-datepicker #fech></mat-datepicker>
	</mat-form-field>

	<mat-form-field>
		<input class="calendar" matInput [matDatepicker]="fechf" placeholder="Fecha Contratacion" [(ngModel)]="fechaf"
			[ngModelOptions]="{standalone: true}">
		<mat-datepicker-toggle matSuffix [for]="fechf"></mat-datepicker-toggle>
		<mat-datepicker #fechf></mat-datepicker>
	</mat-form-field>
	<button class="center" (click)="getData()">Generar Reporte</button>
</div>
<br>
<div *ngIf="reporteActivo">
	<table id="registers">
		<tr>
			<th>Grupo</th>
			<th>Materia</th>
			<th>Fecha</th>
			<th>Registro</th>
			<th>Entrada</th>
			<th>Especificacion</th>
			<th>Tipo</th>
			<th>Imagen</th>
		</tr>
		<tr *ngFor="let item of this.registros">
			<td>{{item.grupo}}</td>
			<td>{{item.materia}}</td>
			<td>{{item.fecha}}</td>
			<td>{{item.hora}}</td>
			<td>{{item.inicio}}</td>
			<td>{{item.estado}}</td>
			<td>{{item.tipo}}</td>
			<td><button class="st" (click)="showImage(item.id)">Imagen</button></td>
		</tr>
	</table>
	<button class="export" (click)="exportAsXLSX()">Export to Excel</button>
</div>

